---
/**
 * Tips from Keith - Video Tips Page
 *
 * Quick marketing tips and insights from Keith Dyer
 */
import BaseLayout from '../../layouts/BaseLayout.astro';
import { tips, getSortedTips, formatDate } from '../../data/tips-from-keith';

const sortedTips = getSortedTips();
const latestTip = sortedTips[0];
const olderTips = sortedTips.slice(1);

// ItemList Schema for video series
const videoListSchema = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  name: 'Tips from Keith - Law Firm Marketing Tips',
  description: 'Quick, actionable marketing tips for law firms from Keith Dyer.',
  url: 'https://lexgro.com/tips-from-keith/',
  numberOfItems: tips.length,
  itemListElement: sortedTips.map((tip, index) => ({
    '@type': 'ListItem',
    position: index + 1,
    item: {
      '@type': 'VideoObject',
      name: tip.title,
      description: tip.description,
      uploadDate: tip.pubDate,
      duration: `PT${tip.duration.replace(':', 'M').replace(/[^0-9M]/g, '')}S`,
      author: {
        '@type': 'Person',
        name: 'Keith Dyer',
      },
      ...(tip.youtubeId && {
        thumbnailUrl: `https://img.youtube.com/vi/${tip.youtubeId}/maxresdefault.jpg`,
        embedUrl: `https://www.youtube.com/embed/${tip.youtubeId}`,
        contentUrl: `https://www.youtube.com/watch?v=${tip.youtubeId}`,
      }),
    },
  })),
};
---

<BaseLayout
  title="Tips from Keith | Quick Marketing Insights"
  description="Quick, actionable marketing tips for law firms from Keith Dyer. Watch short videos packed with strategies you can implement today."
  image="/og/tips-from-keith.png"
>
  <script type="application/ld+json" set:html={JSON.stringify(videoListSchema)} />

  <!-- Hero Section -->
  <section class="tips-hero">
    <div class="container">
      <div class="hero-content">
        <span class="section-label">Video Series</span>
        <h1 class="hero-title">Tips from Keith</h1>
        <p class="hero-subtitle">
          Quick, actionable marketing insights you can implement today. No fluff, just strategies that work for law firms.
        </p>
      </div>
    </div>
  </section>

  <!-- Latest Tip Featured -->
  <section class="featured-section">
    <div class="container">
      <div class="featured-card">
        <div class="featured-video">
          <div class="video-placeholder">
            <div class="play-button">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
              </svg>
            </div>
          </div>
        </div>
        <div class="featured-content">
          <span class="latest-badge">Latest Tip</span>
          <h2 class="featured-title">{latestTip.title}</h2>
          <p class="featured-description">{latestTip.description}</p>
          <div class="featured-meta">
            <span class="meta-item">{latestTip.duration}</span>
            <span class="meta-divider">|</span>
            <span class="meta-item">{formatDate(latestTip.pubDate)}</span>
          </div>
          <div class="featured-topics">
            {latestTip.topics.map((topic) => (
              <span class="topic-tag">{topic}</span>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- All Tips Grid -->
  <section class="tips-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">More Tips</h2>
        <p class="section-subtitle">Browse our library of quick marketing tips</p>
      </div>

      <div class="tips-grid">
        {olderTips.map((tip) => (
          <div class="tip-card">
            <div class="tip-video">
              <div class="video-placeholder-small">
                <div class="play-button-small">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                  </svg>
                </div>
                <span class="tip-duration">{tip.duration}</span>
              </div>
            </div>
            <div class="tip-content">
              <h3 class="tip-title">{tip.title}</h3>
              <p class="tip-description">{tip.description}</p>
              <div class="tip-topics">
                {tip.topics.map((topic) => (
                  <span class="topic-tag-small">{topic}</span>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Subscribe CTA -->
  <section class="subscribe-section">
    <div class="container">
      <div class="subscribe-card">
        <div class="subscribe-content">
          <h2 class="subscribe-title">Never Miss a Tip</h2>
          <p class="subscribe-description">
            Get new marketing tips delivered to your inbox every week.
          </p>
        </div>
        <div class="subscribe-channels">
          <a href="https://www.youtube.com/@LEXGRO" class="channel-btn youtube" target="_blank" rel="noopener">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23.5 6.2c-0.3-1-1-1.8-2-2.1C19.7 3.5 12 3.5 12 3.5s-7.7 0-9.5.6c-1 0.3-1.7 1.1-2 2.1C0 8 0 12 0 12s0 4 0.5 5.8c0.3 1 1 1.8 2 2.1 1.8.6 9.5.6 9.5.6s7.7 0 9.5-0.6c1-0.3 1.7-1.1 2-2.1.5-1.8.5-5.8.5-5.8s0-4-0.5-5.8zM9.6 15.6V8.4l6.4 3.6-6.4 3.6z"/>
            </svg>
            Subscribe on YouTube
          </a>
          <a href="/podcast/" class="channel-btn podcast">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
            Listen to Podcast
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2 class="cta-title">Want Personalized Marketing Advice?</h2>
        <p class="cta-subtitle">
          Schedule a free strategy session to discuss your firm's specific marketing challenges.
        </p>
        <a href="/contact/" class="btn btn-primary btn-lg">
          Book a Free Consultation
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Hero */
  .tips-hero {
    padding: 4rem 0 3rem;
    background: linear-gradient(180deg, var(--color-bg-light) 0%, white 100%);
  }

  .hero-content {
    max-width: 600px;
  }

  .section-label {
    color: var(--color-primary);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 0.75rem;
    display: block;
  }

  .hero-title {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1rem;
    color: var(--color-text-dark);
  }

  .hero-subtitle {
    font-size: 1.125rem;
    color: var(--color-text-muted);
    line-height: 1.6;
  }

  /* Featured Section */
  .featured-section {
    padding: 0 0 4rem;
    background: white;
  }

  .featured-card {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    background: var(--color-bg-dark);
    border-radius: 24px;
    overflow: hidden;
  }

  @media (min-width: 900px) {
    .featured-card {
      grid-template-columns: 1.2fr 1fr;
    }
  }

  .featured-video {
    aspect-ratio: 16/9;
  }

  .video-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }

  .play-button {
    width: 80px;
    height: 80px;
    background: var(--color-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: transform 0.2s ease, background 0.2s ease;
  }

  .play-button:hover {
    transform: scale(1.1);
    background: var(--color-primary-dark);
  }

  .play-button svg {
    margin-left: 4px;
  }

  .featured-content {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .latest-badge {
    display: inline-block;
    background: var(--color-mint);
    color: white;
    font-size: 0.75rem;
    font-weight: 600;
    padding: 0.375rem 0.875rem;
    border-radius: 100px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 1rem;
    width: fit-content;
  }

  .featured-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
    line-height: 1.3;
    margin-bottom: 1rem;
  }

  .featured-description {
    font-size: 1rem;
    color: #b0b8b3;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .featured-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
  }

  .meta-item {
    font-size: 0.875rem;
    color: #b0b8b3;
  }

  .meta-divider {
    color: rgba(255, 255, 255, 0.3);
  }

  .featured-topics {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .topic-tag {
    padding: 0.375rem 0.75rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 100px;
    font-size: 0.75rem;
    font-weight: 500;
    color: #b0b8b3;
  }

  /* Tips Section */
  .tips-section {
    padding: 4rem 0;
    background: var(--color-bg-light);
  }

  .section-header {
    margin-bottom: 2rem;
  }

  .section-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-text-dark);
    margin-bottom: 0.5rem;
  }

  .section-subtitle {
    font-size: 1rem;
    color: var(--color-text-muted);
  }

  .tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 1.5rem;
  }

  .tip-card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid var(--color-border);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .tip-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
  }

  .tip-video {
    position: relative;
  }

  .video-placeholder-small {
    aspect-ratio: 16/9;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
  }

  .play-button-small {
    width: 48px;
    height: 48px;
    background: var(--color-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: transform 0.2s ease;
  }

  .tip-card:hover .play-button-small {
    transform: scale(1.1);
  }

  .play-button-small svg {
    margin-left: 2px;
  }

  .tip-duration {
    position: absolute;
    bottom: 0.75rem;
    right: 0.75rem;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
  }

  .tip-content {
    padding: 1.5rem;
  }

  .tip-title {
    font-size: 1.0625rem;
    font-weight: 700;
    color: var(--color-text-dark);
    line-height: 1.4;
    margin-bottom: 0.75rem;
  }

  .tip-description {
    font-size: 0.9375rem;
    color: var(--color-text-muted);
    line-height: 1.5;
    margin-bottom: 1rem;
  }

  .tip-topics {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .topic-tag-small {
    padding: 0.25rem 0.625rem;
    background: var(--color-bg-light);
    border-radius: 100px;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--color-text-muted);
  }

  /* Subscribe Section */
  .subscribe-section {
    padding: 4rem 0;
    background: white;
  }

  .subscribe-card {
    max-width: 700px;
    margin: 0 auto;
    padding: 3rem;
    background: var(--color-bg-light);
    border-radius: 24px;
    text-align: center;
  }

  .subscribe-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text-dark);
    margin-bottom: 0.5rem;
  }

  .subscribe-description {
    font-size: 1rem;
    color: var(--color-text-muted);
    margin-bottom: 2rem;
  }

  .subscribe-channels {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
  }

  .channel-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1.5rem;
    border-radius: 100px;
    font-size: 0.9375rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .channel-btn.youtube {
    background: #FF0000;
    color: white;
  }

  .channel-btn.youtube:hover {
    background: #CC0000;
  }

  .channel-btn.podcast {
    background: var(--color-primary);
    color: white;
  }

  .channel-btn.podcast:hover {
    background: var(--color-primary-dark);
  }

  /* CTA */
  .cta-section {
    padding: 5rem 0;
    background: var(--color-bg-dark);
    text-align: center;
  }

  .cta-content {
    max-width: 500px;
    margin: 0 auto;
  }

  .cta-title {
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    color: white;
    margin-bottom: 1rem;
  }

  .cta-subtitle {
    font-size: 1rem;
    color: #b0b8b3;
    margin-bottom: 2rem;
  }
</style>
