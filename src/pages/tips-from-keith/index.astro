---
/**
 * Tips from Keith - YouTube Shorts Page
 *
 * Keith Dyer's quick marketing tips as YouTube Shorts
 * Matches homepage visual design spec
 */
import BaseLayout from '../../layouts/BaseLayout.astro';
import { Image } from 'astro:assets';
import heroBackground from '../../assets/images/heroes/tips-hero.jpg';
import { tips, getTips } from '../../data/tips-from-keith';

const allTips = getTips();
const featuredTip = allTips[0];
const remainingTips = allTips.slice(1);

// ItemList Schema
const videoListSchema = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  name: 'Tips from Keith - Law Firm Marketing Tips',
  description: 'Quick, actionable marketing tips for law firms from Keith Dyer.',
  url: 'https://lexgro.com/tips-from-keith/',
  numberOfItems: tips.length,
  itemListElement: allTips.map((tip, index) => ({
    '@type': 'ListItem',
    position: index + 1,
    item: {
      '@type': 'VideoObject',
      name: tip.title,
      description: tip.description,
      thumbnailUrl: `https://img.youtube.com/vi/${tip.youtubeId}/maxresdefault.jpg`,
      embedUrl: `https://www.youtube.com/embed/${tip.youtubeId}`,
      contentUrl: `https://www.youtube.com/shorts/${tip.youtubeId}`,
      author: { '@type': 'Person', name: 'Keith Dyer' },
    },
  })),
};
---

<BaseLayout
  title="Tips from Keith | Quick Marketing Insights"
  description="Quick, actionable marketing tips for law firms from Keith Dyer. Short, focused strategies you can implement today."
  image="/og/tips-from-keith.png"
>
  <script type="application/ld+json" set:html={JSON.stringify(videoListSchema)} />

  <!-- ========== HERO ========== -->
  <section class="hero">
    <Image src={heroBackground} alt="" class="hero-bg" widths={[800, 1200, 1920]} sizes="100vw" loading="eager" />
    <div class="hero-overlay"></div>
    <div class="container hero-container">
      <div class="hero-grid">
        <div class="hero-content">
          <p class="hero-label">YouTube Shorts</p>
          <h1>Tips from Keith</h1>
          <p class="hero-text">
            Quick, actionable marketing insights you can implement today.
            No fluff, just strategies that work for law firms.
          </p>
          <div class="hero-actions">
            <a href="https://www.youtube.com/@LEXGRO" class="btn btn-primary btn-lg" target="_blank" rel="noopener">Subscribe on YouTube</a>
            <a href="#all-tips" class="btn btn-ghost btn-lg">Browse All Tips</a>
          </div>
        </div>
        <div class="hero-visual">
          <div class="hero-stats">
            <div class="stat-item">
              <span class="stat-value">{tips.length}</span>
              <span class="stat-text">Tips published</span>
            </div>
            <div class="stat-item">
              <span class="stat-value">3.7K</span>
              <span class="stat-text">Subscribers</span>
            </div>
            <div class="stat-item">
              <span class="stat-value">Weekly</span>
              <span class="stat-text">New tips</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== FEATURED TIP ========== -->
  <section class="section-featured">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">Latest</span>
        <h2>Newest Tip</h2>
      </div>
      <div class="featured-layout">
        <div class="featured-video">
          <div class="shorts-embed">
            <iframe
              src={`https://www.youtube.com/embed/${featuredTip.youtubeId}`}
              title={featuredTip.title}
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              loading="lazy"
            ></iframe>
          </div>
        </div>
        <div class="featured-info">
          <div class="featured-topics">
            {featuredTip.topics.map((topic) => (
              <span class="chip">{topic}</span>
            ))}
          </div>
          <h3>{featuredTip.title}</h3>
          <p class="featured-desc">{featuredTip.description}</p>
          <a
            href={`https://www.youtube.com/shorts/${featuredTip.youtubeId}`}
            class="btn btn-primary"
            target="_blank"
            rel="noopener"
          >
            Watch on YouTube
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== ALL TIPS ========== -->
  <section class="section-tips" id="all-tips">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">Library</span>
        <h2>All Tips from Keith</h2>
        <p class="lead">{tips.length} quick tips on websites, intake, advertising, strategy, and more.</p>
      </div>
      <div class="tips-grid">
        {allTips.map((tip, i) => (
          <div class="tip-card">
            <div class="tip-video">
              <div class="shorts-embed">
                <iframe
                  src={`https://www.youtube.com/embed/${tip.youtubeId}`}
                  title={tip.title}
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen
                  loading="lazy"
                ></iframe>
              </div>
            </div>
            <div class="tip-body">
              <div class="tip-top">
                <div class="tip-num-icon">
                  <span>{String(i + 1).padStart(2, '0')}</span>
                </div>
                <div class="tip-chips">
                  {tip.topics.map((topic) => (
                    <span class="chip-sm">{topic}</span>
                  ))}
                </div>
              </div>
              <h3>{tip.title}</h3>
              <p>{tip.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ========== SUBSCRIBE ========== -->
  <section class="section-subscribe">
    <div class="container">
      <div class="subscribe-header">
        <p class="subscribe-label">Stay Updated</p>
        <h2>Never Miss a Tip</h2>
        <p class="subscribe-text">New marketing tips every week. Subscribe on YouTube or listen on the podcast.</p>
      </div>
      <div class="subscribe-cards">
        <a href="https://www.youtube.com/@LEXGRO" class="subscribe-card" target="_blank" rel="noopener">
          <div class="subscribe-icon">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23.5 6.2c-0.3-1-1-1.8-2-2.1C19.7 3.5 12 3.5 12 3.5s-7.7 0-9.5.6c-1 0.3-1.7 1.1-2 2.1C0 8 0 12 0 12s0 4 0.5 5.8c0.3 1 1 1.8 2 2.1 1.8.6 9.5.6 9.5.6s7.7 0 9.5-0.6c1-0.3 1.7-1.1 2-2.1.5-1.8.5-5.8.5-5.8s0-4-0.5-5.8zM9.6 15.6V8.4l6.4 3.6-6.4 3.6z"/></svg>
          </div>
          <strong>Subscribe on YouTube</strong>
          <span>Watch new tips every week</span>
        </a>
        <a href="/podcast/" class="subscribe-card">
          <div class="subscribe-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
          </div>
          <strong>Listen to Podcast</strong>
          <span>In-depth marketing conversations</span>
        </a>
      </div>
    </div>
  </section>

  <!-- ========== CTA ========== -->
  <section class="section-cta">
    <div class="container">
      <div class="cta-content">
        <h2>Want Personalized Marketing Advice?</h2>
        <p>Get a free strategy session to discuss your firm's specific marketing challenges.</p>
        <a href="/contact/" class="btn btn-white btn-lg">Book a Free Consultation</a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* ===========================
     HERO - matches homepage exactly
     =========================== */
  .hero {
    background: var(--color-bg-dark);
    color: #fff;
    padding: 4rem 1.5rem 3rem;
    position: relative;
    overflow: hidden;
  }
  .hero-bg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    z-index: 0;
  }
  .hero-overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
    background: linear-gradient(to right, rgba(1, 25, 7, 0.85) 0%, rgba(1, 25, 7, 0.78) 40%, rgba(1, 25, 7, 0.68) 100%);
  }
  .hero-container {
    position: relative;
    z-index: 2;
  }
  .hero-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
  }
  @media (max-width: 900px) {
    .hero-grid {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }
  }
  .hero-label {
    font-size: 0.8125rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-primary-light);
    margin-bottom: 0.75rem;
  }
  .hero h1 {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 700;
    line-height: 1.15;
    color: #fff;
    margin-bottom: 1.25rem;
  }
  .hero-text {
    font-size: 1.0625rem;
    line-height: 1.6;
    color: #b0b8b3;
    margin-bottom: 2rem;
  }
  .hero-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }
  .hero-visual {
    display: flex;
    justify-content: flex-end;
  }
  .hero-stats {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }
  .stat-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: baseline;
    gap: 0.75rem;
  }
  .stat-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-primary-light);
  }
  .stat-text {
    font-size: 0.875rem;
    color: #b0b8b3;
  }

  /* ===========================
     SHARED SECTION STYLES
     =========================== */
  .section-header {
    max-width: 600px;
    margin: 0 auto 3rem;
    text-align: center;
  }
  .section-badge {
    display: inline-block;
    font-size: 0.6875rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--color-slate);
    background: linear-gradient(135deg, rgba(100, 116, 139, 0.12) 0%, rgba(100, 116, 139, 0.06) 100%);
    padding: 0.5rem 1rem;
    border-radius: 100px;
    margin-bottom: 1.25rem;
    border: 1px solid rgba(100, 116, 139, 0.15);
  }
  .section-header h2 {
    font-size: clamp(2rem, 5vw, 2.75rem);
    font-weight: 700;
    color: var(--color-text-dark);
    letter-spacing: -0.02em;
    margin-bottom: 1.25rem;
  }
  .lead {
    font-size: 1.125rem;
    line-height: 1.7;
    color: #4b5563;
    max-width: 500px;
    margin: 0 auto;
  }

  /* ===========================
     SHORTS EMBED - vertical 9:16
     =========================== */
  .shorts-embed {
    position: relative;
    width: 100%;
    padding-top: 177.78%; /* 9:16 aspect ratio */
    background: #000;
    border-radius: 12px;
    overflow: hidden;
  }
  .shorts-embed iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
  }

  /* ===========================
     FEATURED TIP
     =========================== */
  .section-featured {
    padding: 6rem 1.5rem;
    background: #fafafa;
    position: relative;
  }
  .section-featured::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(100, 116, 139, 0.2), transparent);
  }
  .featured-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 3rem;
    align-items: center;
    max-width: 800px;
    margin: 0 auto;
    background: #fff;
    border: 1px solid rgba(0, 0, 0, 0.06);
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
    position: relative;
  }
  .featured-layout::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--color-primary), var(--color-primary-light), var(--color-mint));
    border-radius: 16px 16px 0 0;
  }
  @media (max-width: 700px) {
    .featured-layout {
      grid-template-columns: 1fr;
      gap: 1.5rem;
      max-width: 360px;
    }
  }
  .featured-video {
    max-width: 280px;
  }
  .featured-topics {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }
  .chip {
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-primary);
    background: rgba(41, 140, 66, 0.06);
    border: 1px solid rgba(41, 140, 66, 0.12);
    padding: 0.3125rem 0.75rem;
    border-radius: 100px;
  }
  .featured-info h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text-dark);
    line-height: 1.3;
    margin-bottom: 0.75rem;
    letter-spacing: -0.01em;
  }
  .featured-desc {
    font-size: 1rem;
    color: #4b5563;
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }

  /* ===========================
     ALL TIPS GRID
     =========================== */
  .section-tips {
    padding: 6rem 1.5rem;
    background: #fff;
    position: relative;
  }
  .section-tips::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(100, 116, 139, 0.2), transparent);
  }
  .tips-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    max-width: 1100px;
    margin: 0 auto;
  }
  @media (max-width: 900px) {
    .tips-grid {
      grid-template-columns: 1fr;
      max-width: 320px;
      gap: 1.5rem;
    }
  }
  @media (min-width: 901px) and (max-width: 1100px) {
    .tips-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  .tip-card {
    position: relative;
    background: #fff;
    border: 1px solid rgba(0, 0, 0, 0.06);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
  }
  .tip-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--color-primary), var(--color-primary-light), var(--color-mint));
    border-radius: 16px 16px 0 0;
    z-index: 1;
  }
  .tip-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
    border-color: rgba(41, 140, 66, 0.15);
  }
  .tip-video {
    /* Video fills card width, aspect ratio handled by .shorts-embed */
  }
  .tip-video .shorts-embed {
    border-radius: 0;
  }
  .tip-body {
    padding: 1.5rem;
    flex: 1;
    display: flex;
    flex-direction: column;
  }
  .tip-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
    gap: 0.75rem;
  }
  .tip-num-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(100, 116, 139, 0.1) 0%, rgba(100, 116, 139, 0.05) 100%);
    border-radius: 10px;
    border: 1px solid rgba(100, 116, 139, 0.1);
    flex-shrink: 0;
  }
  .tip-num-icon span {
    font-size: 0.8125rem;
    font-weight: 700;
    color: var(--color-slate);
  }
  .tip-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
  }
  .chip-sm {
    font-size: 0.6875rem;
    font-weight: 600;
    color: var(--color-primary);
    background: rgba(41, 140, 66, 0.06);
    padding: 0.25rem 0.625rem;
    border-radius: 100px;
    border: 1px solid rgba(41, 140, 66, 0.1);
  }
  .tip-body h3 {
    font-size: 1.0625rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--color-text-dark);
    letter-spacing: -0.01em;
    line-height: 1.3;
  }
  .tip-body p {
    font-size: 0.875rem;
    color: #4b5563;
    line-height: 1.6;
    margin: 0;
  }

  /* ===========================
     SUBSCRIBE - dark section
     =========================== */
  .section-subscribe {
    padding: 6rem 1.5rem;
    background: linear-gradient(180deg, var(--color-bg-dark) 0%, #0a1f0f 100%);
    color: #fff;
  }
  .subscribe-header {
    text-align: center;
    max-width: 600px;
    margin: 0 auto 3rem;
  }
  .subscribe-label {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-primary-light);
    margin-bottom: 0.5rem;
  }
  .subscribe-header h2 {
    font-size: clamp(1.5rem, 4vw, 2.25rem);
    font-weight: 700;
    color: #fff;
    margin-bottom: 0.75rem;
    letter-spacing: -0.02em;
  }
  .subscribe-text {
    font-size: 1.0625rem;
    color: #b0b8b3;
    line-height: 1.6;
  }
  .subscribe-cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    max-width: 700px;
    margin: 0 auto;
  }
  @media (max-width: 600px) {
    .subscribe-cards {
      grid-template-columns: 1fr;
      max-width: 360px;
    }
  }
  .subscribe-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 2rem 1.5rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    text-decoration: none;
    text-align: center;
    transition: all 0.2s ease;
  }
  .subscribe-card:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.18);
    transform: translateY(-2px);
    text-decoration: none;
  }
  .subscribe-icon {
    width: 52px;
    height: 52px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(41, 140, 66, 0.2);
    border-radius: 14px;
    border: 1px solid rgba(41, 140, 66, 0.15);
  }
  .subscribe-icon svg {
    width: 24px;
    height: 24px;
    color: var(--color-primary-light);
  }
  .subscribe-card strong {
    font-size: 1rem;
    font-weight: 600;
    color: #fff;
  }
  .subscribe-card span {
    font-size: 0.875rem;
    color: #b0b8b3;
  }

  /* ===========================
     CTA - matches homepage exactly
     =========================== */
  .section-cta {
    padding: 5rem 1.5rem;
    background: linear-gradient(135deg, #0d3d1a 0%, #1a5c2e 100%);
    color: #fff;
    text-align: center;
  }
  .cta-content {
    max-width: 650px;
    margin: 0 auto;
  }
  .cta-content h2 {
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: #fff;
    margin-bottom: 1rem;
  }
  .cta-content > p {
    font-size: 1rem;
    color: #b0b8b3;
    margin-bottom: 1.5rem;
    line-height: 1.6;
  }
</style>
